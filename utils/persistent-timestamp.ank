module PersistentTimestamp {
	var time = import("time")
	MinVer(3, 3, 3)
	var mpname = `timestamps`
	
	func SetMapName(v) {
		mpname = v
	}
	
	func Get(name) {
		val = getPersistentMap(mpname, name)
		if val == nil {
			return 0, false
		}
		tv = toInt(val)
		if tv <= 0 {
			return 0, false
		}
		return time.Unix(tv, 0), true
	}
	
	func Set(name, val) {
		return setPersistentMap(mpname, name, toString(val.Unix()))
	}
}
